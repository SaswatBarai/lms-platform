components:
  responses:
    Success:
      description: Operation successful
      content:
        application/json:
          schema:
            type: object
            properties:
              success:
                type: boolean
                example: true
              message:
                type: string
              data:
                type: object

    BadRequest:
      description: Bad request - validation error or invalid input
      content:
        application/json:
          schema:
            type: object
            properties:
              success:
                type: boolean
                example: false
              message:
                type: string
              error:
                type: string
              errors:
                type: array
                items:
                  type: object
                  properties:
                    path:
                      type: string
                    message:
                      type: string
                    field:
                      type: string
          examples:
            validationError:
              value:
                success: false
                message: "Validation failed"
                totalErrors: 2
                errors:
                  - path: "email"
                    message: "Invalid email address"
                    field: "email"
                    expectedType: "string"
                  - path: "password"
                    message: "Password must be at least 8 characters"
                    field: "password"
                    expectedType: "string"

    Unauthorized:
      description: Unauthorized - invalid credentials, missing token, or expired session
      content:
        application/json:
          schema:
            type: object
            properties:
              success:
                type: boolean
                example: false
              message:
                type: string
              error:
                type: string
          examples:
            invalidCredentials:
              value:
                success: false
                message: "Invalid email or password"
                error: "Invalid credentials"
            missingToken:
              value:
                success: false
                message: "Authentication required"
                error: "Missing authorization header"
            invalidToken:
              value:
                success: false
                message: "Token must be a valid PASETO v4 public token"
                error: "Invalid token format"

    Forbidden:
      description: Forbidden - user doesn't have permission to access this resource
      content:
        application/json:
          schema:
            type: object
            properties:
              success:
                type: boolean
                example: false
              message:
                type: string
              error:
                type: string
          example:
            success: false
            message: "You are not authorized to perform this action"
            error: "Forbidden"

    NotFound:
      description: Resource not found
      content:
        application/json:
          schema:
            type: object
            properties:
              success:
                type: boolean
                example: false
              message:
                type: string
              error:
                type: string
          example:
            success: false
            message: "Resource not found"
            error: "Not Found"

    Conflict:
      description: Conflict - resource already exists
      content:
        application/json:
          schema:
            type: object
            properties:
              success:
                type: boolean
                example: false
              message:
                type: string
              error:
                type: string
          example:
            success: false
            message: "Organization with this email or phone already exists"
            error: "Conflict"

    TooManyRequests:
      description: Too many requests - rate limit exceeded
      content:
        application/json:
          schema:
            type: object
            properties:
              success:
                type: boolean
                example: false
              message:
                type: string
              error:
                type: string
          example:
            success: false
            message: "Too many requests. Please wait before trying again."
            error: "Rate limit exceeded"

    InternalServerError:
      description: Internal server error
      content:
        application/json:
          schema:
            type: object
            properties:
              success:
                type: boolean
                example: false
              message:
                type: string
              error:
                type: string
          example:
            success: false
            message: "Internal server error"
            error: "An unexpected error occurred"

